(this.webpackJsonpflokzu_demo_ui=this.webpackJsonpflokzu_demo_ui||[]).push([[0],{179:function(e,n,c){},243:function(e,n,c){},344:function(e,n,c){"use strict";c.r(n);var t=c(0),o=c(82),i=c.n(o),r=c(377),a=c(201),l=c(96),s=c(20),d=c(370),j=c(371),u=c(363),_=c(378),m=c(62),b=c(376),O=c(359),f=c(3),h=function(e){var n=e.children;return Object(f.jsx)(O.a,{py:"8",px:{base:"4",md:"10"},shadow:"base",rounded:{sm:"lg"},background:"white",children:n})},x=c(361),p=c(362),g=c(349),S=function(e){var n=e.children;return Object(f.jsxs)(x.a,{align:"center",color:"gray.300",children:[Object(f.jsx)(O.a,{flex:"1",children:Object(f.jsx)(p.a,{borderColor:"currentcolor"})}),Object(f.jsx)(u.a,{as:"span",px:"3",color:Object(g.c)("gray.600","gray.400"),fontWeight:"medium",children:n}),Object(f.jsx)(O.a,{flex:"1",children:Object(f.jsx)(p.a,{borderColor:"currentcolor"})})]})},C=c(364),A=c(380),E=c(365),w=c(16),v=c(71),I=function(e){var n=Object(v.a)(e),c=n[0],t=n.slice(1);return[c.toUpperCase()].concat(Object(w.a)(t)).join("")},N=function(e){var n=0;return n=e.size>1048576?(Math.round(100*e.size/1048576)/100).toString()+"MB":(Math.round(100*e.size/1024)/100).toString()+"KB",n},R=function(e){var n=e.name,c=e.type,t=void 0===c?"text":c,o=e.error,i=e.touched,r=e.value,a=e.onChange;return Object(f.jsxs)(m.a,{isInvalid:o&&i,children:[Object(f.jsx)(C.a,{children:I(n)}),Object(f.jsx)(A.a,{name:n,type:t,value:r,onChange:a}),Object(f.jsx)(E.a,{children:o})]})},T=c(182),L=c(4),z=c(183),y=c.n(z),k=Object({NODE_ENV:"production",PUBLIC_URL:"/flokzu-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL,M=y.a.create({baseURL:null!==k&&void 0!==k?k:"http://api-ml.carrasco.uruit.com/"}),P=function(e,n){M.defaults.headers.common[e]=n},F=function(e,n){var c=new URLSearchParams;return c.set("username",e),c.set("password",n),M.post("/login",c,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},U=Object(t.createContext)(),B=function(e){var n=e.children,c=Object(t.useState)(),o=Object(L.a)(c,2),i=o[0],r=o[1];Object(t.useEffect)((function(){var e=localStorage.getItem("token");r(e||!1)}),[]);var a=Object(t.useCallback)((function(){return F.apply(void 0,arguments).then((function(e){var n=e.data.access_token;r(n),localStorage.setItem("token",n),P("Authorization","Bearer ".concat(n))})).catch(console.error)}),[]);return Object(f.jsx)(U.Provider,{value:{login:a,token:i},children:n})},D=function(e){var n=Object(t.useContext)(U).token;return void 0===n?"Loading...":!1===n?Object(f.jsx)(s.a,{to:"/"}):Object(f.jsx)(s.b,Object(T.a)({},e))},W=c(366),J=c(374),G=c(383),H=(c(243),["1_1_FACHADAS","1_10_ASEOS","1_11_INFORMACION","1_2_ROTULOS","1_3_ILUMINACION","1_4_SUELOS","1_5_TECHOS","1_6_LIMPIEZA","1_7_ESTANTERIAS","1_8_ACCESOS","1_9_CARROS","2_1_EXPOSICIONES","2_10_MUSICA","2_11_FRENTE_LINEAL","2_12_ALMACEN","2_13_LINEA_DE_CAJAS","2_2_AMBIENTACION","2_3_CARTELERIA","2_4_CABECERAS","2_5_PILAS","2_6_LINEALES","2_7_ETIQ PRECIOS","2_8_PORTA PREC","2_9_UNIFO PERSO","3_2_EXTIN_Y_MANGUE","4_1_PTAS_EMERGENCIA"]),K=["DESCRIPCI\xd3N","M","R/M","R/B","B"],Q=function(e){var n=e.rows,c=e.threshold;return Object(f.jsx)("div",{children:Object(f.jsxs)(W.a,{variant:"simple",colorScheme:"blackAlpha",marginTop:"2",className:"dataTable",size:"sm",children:[Object(f.jsx)(W.e,{children:Object(f.jsx)(W.f,{children:K.map((function(e,n){return Object(f.jsx)(W.d,{children:Object(f.jsx)(u.a,{as:"samp",fontSize:"sm",textAlign:"center",children:e})},n)}))})}),Object(f.jsx)(W.b,{children:H.map((function(e,t){var o=n[e],i=(null===o||void 0===o?void 0:o.confidence_column)<=c||(null===o||void 0===o?void 0:o.confidence_row)<c,r=!o||"none"===(null===o||void 0===o?void 0:o.selected_column)||"other"===(null===o||void 0===o?void 0:o.selected_column);return Object(f.jsx)(W.f,{className:r?"isRed":i?"isYellow":"",children:K.map((function(n,c){return Object(f.jsx)(J.a,{label:o?"Confidence column: ".concat(o.confidence_column,"\nConfidence row: ").concat(o.confidence_row):"No data for this entry",children:Object(f.jsxs)(W.c,{children:[0===c&&Object(f.jsx)(u.a,{as:"samp",className:"colText",fontSize:["11px","lg"],children:e}),c.toString()===(null===o||void 0===o?void 0:o.selected_column)&&Object(f.jsx)(u.a,{textAlign:"center",children:Object(f.jsx)(G.a,{})})]})},c)}))},t)}))})]})})},V=c(368),X=function(e){var n=e.fileData,c=n.name,t=n.fileSize,o=n.type;return Object(f.jsx)(O.a,{borderBottom:"1px",borderColor:"gray.200",padding:"5",pb:"1",marginBottom:"5",children:c?Object(f.jsxs)(V.a,{children:[Object(f.jsx)(V.c,{children:c}),Object(f.jsx)(V.d,{children:t}),Object(f.jsx)(V.b,{children:o})]}):Object(f.jsx)(u.a,{as:"span",fontSize:"md",fontWeight:"bold",textAlign:"center",verticalAlign:"medium",color:"gray.500",children:"No file selected"})})},Y=function(e){var n=e.onImageLoaded,c=Object(t.useRef)(null),o=Object(t.useState)(!1),i=Object(L.a)(o,2),r=i[0],a=i[1];return Object(f.jsxs)(x.a,{marginBottom:"5",w:"100%",justify:"center",children:[Object(f.jsx)(b.a,{onClick:function(){return c.current.click()},colorScheme:"teal",variant:"outline",size:"lg",isLoading:r,children:"Upload image"}),Object(f.jsx)(A.a,{id:"camera",name:"picuture",type:"file",accept:"image/*",capture:"camera",onChange:function(e){var c=Object(L.a)(e.target.files,1)[0],t=new FileReader;a(!0),t.addEventListener("load",(function(e){var t=e.target.result;n(t,c),a(!1)})),t.readAsDataURL(c)},display:"none",ref:c})]})},Z=c(375),q=function(e){var n=e.title,c=e.value,t=e.onChange;return Object(f.jsxs)(O.a,{children:[Object(f.jsx)(u.a,{fontSize:"xl",fontWeight:"extrabold",children:n}),Object(f.jsxs)(Z.a,{defaultValue:c,min:0,max:1,step:.1,onChange:t,children:[Object(f.jsxs)(Z.d,{bg:"red.100",children:[Object(f.jsx)(O.a,{position:"relative",right:10}),Object(f.jsx)(Z.b,{bg:"tomato"})]}),Object(f.jsx)(Z.c,{boxSize:8,children:Object(f.jsx)(O.a,{children:Object(f.jsx)(u.a,{children:c})})})]})]})},$=c(118),ee=c(203),ne=$.a().shape({username:$.b().required(),password:$.b().required()}),ce=function(e){var n=e.onSubmit,c=Object(ee.a)({initialValues:{username:"",password:""},validationSchema:ne,onSubmit:n});return Object(f.jsx)(d.a,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",className:"loginContainer",children:Object(f.jsxs)(j.a,{width:"md",children:[Object(f.jsx)(u.a,{fontSize:"4xl",fontWeight:"extrabold",align:"center",children:"Form Demo"}),Object(f.jsx)(j.a,{mb:"4",children:Object(f.jsx)(S,{children:Object(f.jsx)(u.a,{as:"span",fontSize:"md",fontWeight:"medium",textAlign:"center",verticalAlign:"medium",children:"Authorize to use API"})})}),Object(f.jsx)("form",{onSubmit:c.handleSubmit,children:Object(f.jsx)(h,{children:Object(f.jsxs)(_.a,{spacing:4,children:[Object(f.jsx)(R,{name:"username",error:c.errors.username,touched:c.touched.username,value:c.values.username,onChange:c.handleChange}),Object(f.jsx)(R,{name:"password",type:"password",error:c.errors.password,touched:c.touched.password,value:c.values.password,onChange:c.handleChange}),Object(f.jsx)(m.a,{id:"login-button",children:Object(f.jsx)(b.a,{type:"submit",isFullWidth:!0,colorScheme:"purple",children:"Login"})})]})})})]})})},te=function(){var e=Object(s.g)(),n=Object(t.useContext)(U).login;return Object(f.jsx)(ce,{onSubmit:function(c){var t=c.username,o=c.password;n(t,o).then((function(){return e.push("/content")}))}})},oe=c(367),ie=c(382),re=(c(179),c(373)),ae=function(e){var n=e.isOpen,c=e.onClose,t=e.img;return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(re.a,{isOpen:n,onClose:c,size:"xl",children:[Object(f.jsx)(re.g,{}),Object(f.jsxs)(re.d,{children:[Object(f.jsx)(re.f,{children:"File preview"}),Object(f.jsx)(re.c,{}),Object(f.jsx)(re.b,{children:Object(f.jsx)(ie.a,{src:t})}),Object(f.jsx)(re.e,{children:Object(f.jsx)(b.a,{colorScheme:"blue",mr:3,onClick:c,children:"Close"})})]})]})})},le=function(){var e=Object(t.useState)(.7),n=Object(L.a)(e,2),c=n[0],o=n[1],i=Object(t.useState)([]),r=Object(L.a)(i,2),a=r[0],l=r[1],s=Object(t.useState)(!1),d=Object(L.a)(s,2),j=d[0],_=d[1],m=Object(t.useState)({}),h=Object(L.a)(m,2),p=h[0],g=h[1],S=Object(t.useState)(""),C=Object(L.a)(S,2),A=C[0],E=C[1],w=Object(oe.a)(),v=w.isOpen,I=w.onOpen,R=w.onClose;return Object(f.jsxs)("div",{className:"contentContainer",children:[Object(f.jsxs)(x.a,{direction:"column",align:"center",children:[Object(f.jsxs)(x.a,{justify:"center",align:"center",wrap:"wrap",marginTop:"5",children:[Object(f.jsxs)(x.a,{align:"center",children:[Object(f.jsx)(ie.a,{src:"https://www.flokzu.com/assets/img/logo_fkz.png",className:"flokzuLogo"}),Object(f.jsx)(u.a,{fontWeight:"extrabold",color:"#4c4c4c",fontSize:"4xl",children:"Flokzu"})]}),Object(f.jsx)(ie.a,{src:"https://app.cogniflow.ai/static/media/logo_cogniflow.7ec25585.svg",width:"300px",objectFit:"contain"})]}),Object(f.jsx)(u.a,{fontSize:"4xl",fontWeight:"extrabold",align:"center",marginTop:"5",marginBottom:"5",children:"Flokzu AI Form Parser"}),Object(f.jsx)(Y,{onImageLoaded:function(e,n){g({name:n.name,fileSize:N(n),type:n.type,fileFormat:n.type.split("/")[1]}),E(e)}})]}),Object(f.jsxs)(x.a,{justify:"space-evenly",wrap:"wrap",children:[Object(f.jsx)(x.a,{direction:"column",align:"center",wrap:"wrap",className:"imageDataBox",children:A&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(ae,{img:A,isOpen:v,onClose:R}),Object(f.jsx)(ie.a,{src:A,alt:"Uploaded image",boxSize:"300px",objectFit:"contain",onClick:I,cursor:"pointer"}),Object(f.jsxs)(O.a,{children:[Object(f.jsx)(X,{fileData:p}),j&&Object(f.jsx)(u.a,{mb:"2",color:"red.400",fontWeight:"bold",fontSize:"14px",children:"This process might take several minutes..."}),Object(f.jsx)(b.a,{onClick:function(){var e,n;_(!0),(e=p.fileFormat,n=A.split(",")[1],M.post("form",{format:e,base64_image:n})).then((function(e){var n=e.data;l(n),_(!1)})).catch((function(e){alert("something went wrong"),console.log(e)}))},colorScheme:"purple",variant:"solid",isFullWidth:!0,size:"md",isLoading:j,marginBottom:"5",children:"Generate table"})]})]})}),Object.keys(a).length>0&&Object(f.jsxs)(O.a,{className:"tableDataBox",children:[Object(f.jsx)(q,{title:"Confidence Threshold",value:c,onChange:function(e){o(Number(e))}}),Object(f.jsx)(Q,{rows:a.rows,threshold:c})]})]})]})},se=c(206);Object(se.a)({routes:function(){this.post("http://api-ml.carrasco.uruit.com/form",(function(){return{processing_time:157.634,rows:{"1_2_ROTULOS":{confidence_row:"0.575",confidence_column:"0.971",selected_column:"2"},"2_2_AMBIENTACION":{confidence_row:"0.947",confidence_column:"0.853",selected_column:"1"},"2_4_CABECERAS":{confidence_row:"0.826",confidence_column:"0.442",selected_column:"1"},"1_8_ACCESOS":{confidence_row:"0.757",confidence_column:"0.967",selected_column:"3"},"1_11_INFORMACION":{confidence_row:"0.836",confidence_column:"0.952",selected_column:"4"},"2_11_FRENTE_LINEAL":{confidence_row:"0.696",confidence_column:"0.666",selected_column:"2"},"1_7_ESTANTERIAS":{confidence_row:"0.909",confidence_column:"0.737",selected_column:"1"},"2_3_CARTELERIA":{confidence_row:"0.876",confidence_column:"0.759",selected_column:"3"},"2_1_EXPOSICIONES":{confidence_row:"0.715",confidence_column:"0.622",selected_column:"4"},"1_5_TECHOS":{confidence_row:"0.883",confidence_column:"0.979",selected_column:"3"},"1_10_ASEOS":{confidence_row:"0.741",confidence_column:"0.742",selected_column:"none"},"1_4_SUELOS":{confidence_row:"0.647",confidence_column:"0.755",selected_column:"none"},"2_8_PORTA PREC":{confidence_row:"0.863",confidence_column:"0.812",selected_column:"2"},"4_1_PTAS_EMERGENCIA":{confidence_row:"0.758",confidence_column:"0.944",selected_column:"3"},"1_1_FACHADAS":{confidence_row:"0.806",confidence_column:"0.991",selected_column:"1"},"2_5_PILAS":{confidence_row:"0.837",confidence_column:"0.947",selected_column:"3"},"1_6_LIMPIEZA":{confidence_row:"0.963",confidence_column:"0.924",selected_column:"none"},"2_7_ETIQ PRECIOS":{confidence_row:"0.954",confidence_column:"0.615",selected_column:"3"},"1_9_CARROS":{confidence_row:"0.842",confidence_column:"0.721",selected_column:"2"},"2_9_UNIFO PERSO":{confidence_row:"0.897",confidence_column:"0.942",selected_column:"1"},"2_12_ALMACEN":{confidence_row:"0.921",confidence_column:"0.818",selected_column:"3"},"3_2_EXTIN_Y_MANGUE":{confidence_row:"0.858",confidence_column:"0.641",selected_column:"1"},"2_13_LINEA_DE_CAJAS":{confidence_row:"0.814",confidence_column:"0.892",selected_column:"none"},"2_10_MUSICA":{confidence_row:"0.643",confidence_column:"0.961",selected_column:"3"},"2_6_LINEALES":{confidence_row:"0.824",confidence_column:"0.899",selected_column:"1"}}}})),this.post("/login",(function(){return{token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c"}}))}});var de=function(){return Object(f.jsx)(r.a,{theme:a.theme,children:Object(f.jsx)(B,{children:Object(f.jsx)(l.a,{children:Object(f.jsxs)(s.d,{children:[Object(f.jsx)(s.b,{exact:!0,path:"/",component:te}),Object(f.jsx)(D,{path:"/content",component:le}),Object(f.jsx)(s.b,{path:"/mobile",component:le}),Object(f.jsx)(s.a,{to:"/"})]})})})})};i.a.render(Object(f.jsx)(t.StrictMode,{children:Object(f.jsx)(de,{})}),document.getElementById("root"))}},[[344,1,2]]]);
//# sourceMappingURL=main.5b7cd6c1.chunk.js.map